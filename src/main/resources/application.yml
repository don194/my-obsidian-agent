server:
  port: 8080

spring:
  application:
    name: obsidian-agent
    # SQLiteæ•°æ®åº“é…ç½®
  datasource:
    url: jdbc:sqlite:./data/obsidian_agent.db
    driver-class-name: org.sqlite.JDBC
  jpa:
    database-platform: org.hibernate.community.dialect.SQLiteDialect
    hibernate:
      ddl-auto: update  # è‡ªåŠ¨åˆ›å»º/æ›´æ–°è¡¨ç»“æ„
    show-sql: false     # ç”Ÿäº§ç¯å¢ƒè®¾ä¸ºfalse
    properties:
      hibernate:
        format_sql: true
        jdbc:
          time_zone: Asia/Shanghai

    # SQLè„šæœ¬åˆå§‹åŒ–ï¼ˆå¯é€‰ï¼‰
    sql:
      init:
        mode: never  # å¦‚æœéœ€è¦åˆå§‹åŒ–è„šæœ¬ï¼Œæ”¹ä¸ºalways
  ai:
    openai:
      # ç”Ÿäº§ç¯å¢ƒ - é€šè¿‡ç¯å¢ƒå˜é‡é…ç½®
      api-key: ${SPRING_AI_OPENAI_API_KEY:your-api-key-here}
      base-url: ${SPRING_AI_OPENAI_BASE_URL:https://api.openai.com}
      chat:
        options:
          model: ${SPRING_AI_OPENAI_MODEL:gpt-4o-mini}
          temperature: ${SPRING_AI_OPENAI_TEMPERATURE:0.7}
          max-tokens: ${SPRING_AI_OPENAI_MAX_TOKENS:1000}
        client:
          connect-timeout: 30s
          read-timeout: 60s
    mcp:
      client:
        enabled: true
        name: obsidian-agent-mcp
        version: 1.1.0
        initialized: true
        request-timeout: 120s
        type: SYNC

        # STDIOä¼ è¾“é…ç½® - è¿æ¥mcp-obsidian
        stdio:
          connections:
            obsidian:
              command: uv
              args:
                - run
                - --directory
                - "D:/dongh/Documents/java/mcp-obsidian"  # æŒ‡å®šå·¥ä½œç›®å½•
                - mcp-obsidian
              env:
                OBSIDIAN_API_KEY: ${OBSIDIAN_API_KEY:6a193ce7b058b9b251ea1486dd25914d6ac47aabbed05726025c8a5dc5bc3a5b}
                OBSIDIAN_HOST: ${OBSIDIAN_HOST:127.0.0.1}
                OBSIDIAN_PORT: ${OBSIDIAN_PORT:27123}
                OBSIDIAN_PROTOCOL: ${OBSIDIAN_PROTOCOL:http}
# åŸºç¡€æ—¥å¿—é…ç½®
logging:
  level:
    io.github.don194.obsidianagent: INFO
    org.springframework.ai: INFO
  pattern:
    console: "%d{yyyy-MM-dd HH:mm:ss} - %msg%n"

# é¡¹ç›®è‡ªå®šä¹‰é…ç½®
obsidian:
  agent:
    welcome-message: "ğŸ‘‹ Hello! I'm your Obsidian AI Agent. How can I help you today!"